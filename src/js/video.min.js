SouthRidge.Views.VideoView=Backbone.View.extend({el:"#content",collection:null,icon:null,initialize:function(a){_.bindAll(this,"render");this.collection=a.collection;this.icon=a.icon;this.render()},render:function(){SouthRidge.Utils.ScrollTop();for(var a=0;a<this.collection.models.length;a++){var b=this.collection.models[a];void 0==b.get("description")&&b.set("description","");b.set("icon",this.icon);b.set("VideoId",parseInt(b.get("id")))}a={videos:this.collection.models};a=_.template($("#videos").html(),
a);SouthRidge.Utils.SetTopBar("Video");SouthRidge.Utils.DoneLoading();$(this.el).unbind().html(a).show()},events:{"tap div.video":"handleTap"},handleTap:function(a){a.preventDefault();var b=parseInt($(a.target).attr("id"));forge.is.ios()?(a=this.collection.where({VideoId:parseInt($(a.target).attr("id"))}),1===a.length&&forge.tabs.openWithOptions({url:a[0].get("mobile_url"),tint:SouthRidge.Utils.MainColor},function(a){SouthRidge.Utils.Log(a.url)})):forge.tools.getURL("video.html",function(a){forge.tabs.openWithOptions({url:a+
"?"+b,tint:SouthRidge.Utils.MainColor},function(a){SouthRidge.Utils.Log(a.url)})},function(){})}});
