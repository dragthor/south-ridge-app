SouthRidge.Models.Album=Backbone.Model.extend();SouthRidge.Models.Albums=Backbone.Collection.extend({model:SouthRidge.Models.Album,initialize:function(d,a){var f=this,b=a.success,c=a.error,e=SouthRidge.Utils.MaxResults;forge.prefs.get("album-limit",function(a){!0===a&&(e=10);e++;forge.request.get("http://dragthor.github.io/southridge/albums-"+e+".json",function(a){var c=0;_.each(a.data,function(a){if(c<e){var b=a.count;void 0!=b&&0<parseInt(b)&&(f.push(a),c++)}});b()},function(a){c(a)})},function(){})}});
SouthRidge.Models.Photo=Backbone.Model.extend();SouthRidge.Models.Photos=Backbone.Collection.extend({model:SouthRidge.Models.Photo,initialize:function(d,a){var f=this,b=a.success,c=a.error;forge.request.get("http://graph.facebook.com/"+a.albumId+"/photos?fields=picture,source",function(a){f.add(a.data);b()},function(a){c(a)})}});SouthRidge.Models.Podcast=Backbone.Model.extend();
SouthRidge.Models.Podcasts=Backbone.Collection.extend({model:SouthRidge.Models.Podcast,initialize:function(d,a){var f=this,b=a.success,c=a.error,e=SouthRidge.Utils.MaxResults;forge.prefs.get("podcast-limit",function(a){!0===a&&(e=10);forge.request.ajax({url:"https://api.parse.com/1/classes/Podcast?limit="+e+"&order=-Order",headers:{"X-Parse-Application-Id":SouthRidge.Utils.ParseAppId,"X-Parse-REST-API-Key":SouthRidge.Utils.ParseRestKey},contentType:"application/json",type:"GET",dataType:"json",success:function(a){f.add(a.results);
b()},error:function(a){c(a)}})},function(){})}});SouthRidge.Models.Video=Backbone.Model.extend();
SouthRidge.Models.Videos=Backbone.Collection.extend({model:SouthRidge.Models.Video,initialize:function(d,a){var f=this,b=a.success,c=a.error,e=SouthRidge.Utils.MaxResults;forge.request.get("http://vimeo.com/api/v2/benstapley/videos.json",function(a){var c=0;forge.prefs.get("video-limit",function(d){!0===d&&(e=10);_.each(a,function(a){if(c<e)for(var b=a.tags.split(","),d=0;d<b.length;d++)if("south ridge community church"===$.trim(b[d]).toLowerCase()){f.push(a);c++;break}});b()},function(){})},function(a){c(a)})}});
SouthRidge.Models.NewsItem=Backbone.Model.extend();
SouthRidge.Models.News=Backbone.Collection.extend({model:SouthRidge.Models.NewsItem,initialize:function(d,a){var f=this,b=a.success,c=a.error;forge.request.ajax({url:"https://api.parse.com/1/classes/News?where="+encodeURIComponent(JSON.stringify({Active:!0})),headers:{"X-Parse-Application-Id":SouthRidge.Utils.ParseAppId,"X-Parse-REST-API-Key":SouthRidge.Utils.ParseRestKey},contentType:"application/json",type:"GET",dataType:"json",success:function(a){f.add(a.results);b()},error:function(a){c(a)}})}});
